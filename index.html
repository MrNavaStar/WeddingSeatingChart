<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Seating Chart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .search-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
            position: relative;
        }

        .search-box {
            display: flex;
            max-width: 400px;
            margin: 0 auto;
            position: relative;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .search-input:focus {
            border-color: #5d7c8a;
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #e9ecef;
            border-top: none;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-height: 150px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            margin-top: -1px;
            width: 100%;
            min-width: 300px;
            text-align: left;
        }

        .search-suggestions.show {
            display: block;
        }

        .suggestion-item {
            padding: 6px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f8f9fa;
            transition: background-color 0.2s ease;
        }

        .suggestion-item:hover {
            background-color: #f8f9fa;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .suggestion-name {
            font-weight: 500;
            color: #333;
            font-size: 0.9rem;
        }

        .suggestion-table {
            font-size: 0.7rem;
            color: #6c757d;
            margin-top: 1px;
        }

        .venue-container {
            position: relative;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 40px;
            margin-bottom: 30px;
            min-height: 600px;
            overflow: hidden;
        }

        .venue-layout {
            position: relative;
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border: 2px dashed #dee2e6;
        }

        .table {
            position: absolute;
            width: 70px;
            height: 70px;
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .table:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 20;
        }

        .table.highlighted {
            border-color: #5d7c8a;
            background: #f0f8ff;
            box-shadow: 0 0 25px rgba(93, 124, 138, 0.6);
            z-index: 30;
            animation: tableGlow 2s ease-in-out infinite alternate;
        }

        @keyframes tableGlow {
            0% {
                box-shadow: 0 0 25px rgba(93, 124, 138, 0.6);
            }
            100% {
                box-shadow: 0 0 35px rgba(93, 124, 138, 0.9), 0 0 50px rgba(93, 124, 138, 0.4);
            }
        }

        .table-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #5d7c8a;
            margin-bottom: 2px;
        }

        .layout-note {
            text-align: center;
            color: #6c757d;
            font-size: 0.9rem;
            margin-top: 20px;
            font-style: italic;
        }

        .config-note {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.85rem;
            color: #1976d2;
        }

        .config-note strong {
            color: #1565c0;
        }

        .head-table {
            position: absolute;
            width: 90px;
            height: 55px;
            background: linear-gradient(135deg, #5d7c8a 0%, #4a6b7a 100%);
            border: 4px solid #3d5a6b;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            z-index: 15;
        }

        .head-table:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(0,0,0,0.3);
            z-index: 25;
        }

        .head-table.highlighted {
            border-color: #ffd700;
            background: linear-gradient(135deg, #6b8c9a 0%, #5a7b8a 100%);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            z-index: 35;
            animation: headTableGlow 2s ease-in-out infinite alternate;
        }

        @keyframes headTableGlow {
            0% {
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            }
            100% {
                box-shadow: 0 0 40px rgba(255, 215, 0, 0.9), 0 0 60px rgba(255, 215, 0, 0.4);
            }
        }

        .head-table-label {
            font-size: 1.1rem;
            font-weight: bold;
            color: white;
            margin-bottom: 3px;
            text-align: center;
        }

        .head-table-info {
            font-size: 0.8rem;
            color: #e8f4f8;
            text-align: center;
            line-height: 1.2;
        }

        .head-table-guests {
            font-size: 0.7rem;
            color: #c8e6f0;
            margin-top: 3px;
        }

        .guest-list-container {
            background: #f8f9fa;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }

        .guest-list {
            text-align: left;
            font-size: 0.9rem;
            color: #333;
            line-height: 1.6;
            padding-right: 10px;
        }

        .guest-list-item {
            padding: 8px 12px;
            border-bottom: 1px solid #e9ecef;
            transition: background-color 0.2s ease;
        }

        .guest-list-item:last-child {
            border-bottom: none;
        }

        .guest-list-item:hover {
            background-color: #e9ecef;
        }

        .guest-list-name {
            font-weight: 500;
            color: #5d7c8a;
        }

        .guest-list-table {
            font-size: 0.7rem;
            color: #6c757d;
            margin-top: 2px;
        }

        @media (max-width: 768px) {
            .venue-container {
                padding: 20px;
            }
            
            .venue-layout {
                height: 400px;
            }
            
            .table {
                width: 55px;
                height: 55px;
            }
            
            .head-table {
                width: 75px;
                height: 45px;
            }
            
            .table-number {
                font-size: 1rem;
            }
            
            .table-info {
                font-size: 0.6rem;
            }
        }

        @media (max-width: 480px) {
            .venue-layout {
                height: 350px;
            }
            
            .table {
                width: 45px;
                height: 45px;
            }
            
            .head-table {
                width: 65px;
                height: 40px;
            }
            
            .table-number {
                font-size: 0.9rem;
            }
            
            .table-info {
                font-size: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="search-section">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search for a guest..." id="searchInput">
                <div class="search-suggestions" id="searchSuggestions"></div>
            </div>
        </div>

        <div class="venue-container">
            <div class="venue-layout" id="venueLayout">
                <!-- Tables will be positioned here by JavaScript -->
            </div>
        </div>

        <div class="guest-list-container" id="guestListContainer" style="display: none;">
            <h3 id="guestListTitle" style="color: #5d7c8a; margin-bottom: 1rem; text-align: center;"></h3>
            <div class="guest-list" id="guestList"></div>
        </div>

        <div class="layout-note">
            Tables are positioned to match the actual venue layout
        </div>
    </div>

    <script>
        // Table positions configuration - modify these to match your actual venue layout
        // x and y are percentages (0-100) of the venue container
        const tablePositions = [
            { id: 12, x: 35, y: 52 },
            { id: 10, x: 65, y: 52 },
            { id: 2, x: 40, y: 75 },
            { id: 1, x: 60, y: 75 },
            { id: 7, x: 83, y: 52 },
            { id: 9, x: 75, y: 75 },
            { id: 11, x: 75, y: 30 },
            { id: 3, x: 25, y: 75 },
            { id: 6, x: 10, y: 75 },
            { id: 5, x: 17, y: 52 },
            { id: 4, x: 25, y: 30 },
            { id: 8, x: 10, y: 30 },
            { id: "head", x: 50, y: 30 }
        ];

        // Wedding guest data from CSV file
        const guests = [
            // Table 1
            { name: "christopher thiessen", table: 1, displayName: "Christopher Thiessen" },
            { name: "kerry thiessen", table: 1, displayName: "Kerry Thiessen" },
            { name: "joel thiessen", table: 1, displayName: "Joel Thiessen" },
            { name: "benjamin thiessen", table: 1, displayName: "Benjamin Thiessen" },
            { name: "wideline thiessen", table: 1, displayName: "Wideline Thiessen" },
            { name: "michael piva", table: 1, displayName: "Michael Piva" },
            { name: "marissa piva", table: 1, displayName: "Marissa Piva" },
            { name: "alecia piva", table: 1, displayName: "Alecia Piva" },
            
            // Table 2
            { name: "andrew dick", table: 2, displayName: "Andrew Dick" },
            { name: "karen dick", table: 2, displayName: "Karen Dick" },
            { name: "garry anderson", table: 2, displayName: "Garry Anderson" },
            { name: "esther anderson", table: 2, displayName: "Esther Anderson" },
            { name: "andew barraclough", table: 2, displayName: "Andew Barraclough" },
            { name: "dina willis", table: 2, displayName: "Dina Willis" },
            { name: "tom turk", table: 2, displayName: "Tom Turk" },
            { name: "zoe barraclough", table: 2, displayName: "Zoe Barraclough" },
            
            // Table 3
            { name: "susan young", table: 3, displayName: "Susan Young" },
            { name: "karl swierkot", table: 3, displayName: "Karl Swierkot" },
            { name: "sharon barraclough", table: 3, displayName: "Sharon Barraclough" },
            { name: "brianne d'souza", table: 3, displayName: "Brianne D'Souza" },
            { name: "brian young", table: 3, displayName: "Brian Young" },
            
            // Table 4
            { name: "michael bergen", table: 4, displayName: "Michael Bergen" },
            { name: "esther hoogland", table: 4, displayName: "Esther Hoogland" },
            { name: "levi meetsma", table: 4, displayName: "Levi Meetsma" },
            { name: "anna kennedy", table: 4, displayName: "Anna Kennedy" },
            { name: "ethan meier", table: 4, displayName: "Ethan Meier" },
            { name: "nathan hellwege", table: 4, displayName: "Nathan Hellwege" },
            { name: "logan o'sullivan", table: 4, displayName: "Logan O'Sullivan" },
            { name: "aylie mohr", table: 4, displayName: "Aylie Mohr" },
            
            // Table 5
            { name: "jennifer bell-komarnicki", table: 5, displayName: "Jennifer Bell-Komarnicki" },
            { name: "kevin kormanicki", table: 5, displayName: "Kevin Kormanicki" },
            { name: "mercedes bell", table: 5, displayName: "Mercedes Bell" },
            { name: "kade lowes", table: 5, displayName: "Kade Lowes" }, 
            { name: "summer bell", table: 5, displayName: "Summer Bell" },
            { name: "sadie", table: 5, displayName: "Sadie" },
            
            // Table 6
            { name: "rebecca soroka", table: 6, displayName: "Rebecca Soroka" },
            { name: "alyssa soroka", table: 6, displayName: "Alyssa Soroka" },
            { name: "devonte saunders", table: 6, displayName: "Devonte Saunders" },
            { name: "beverly wood", table: 6, displayName: "Beverly Wood" },
            { name: "ramona tkachuk", table: 6, displayName: "Ramona Tkachuk" },
            { name: "gerald noseworthy", table: 6, displayName: "Gerald Noseworthy" },
            
            // Table 7
            { name: "harley feldbusch", table: 7, displayName: "Harley Feldbusch" },
            { name: "kaija feldbusch", table: 7, displayName: "Kaija Feldbusch" },
            { name: "reagan ohlmann", table: 7, displayName: "Reagan Ohlmann" },
            { name: "cindy feldbusch", table: 7, displayName: "Cindy Feldbusch" },
            { name: "keith feldbusch", table: 7, displayName: "Keith Feldbusch" },
            { name: "josh meetsma", table: 7, displayName: "Josh Meetsma" },
            { name: "emily meetsma", table: 7, displayName: "Emily Meetsma" },
            { name: "brian meetsma", table: 7, displayName: "Brian Meetsma" },
            
            // Table 8
            { name: "christina cooper", table: 8, displayName: "Christina Cooper" },
            { name: "kris norris", table: 8, displayName: "Kris Norris" },
            { name: "jude glade", table: 8, displayName: "Jude Glade" },
            { name: "paola gonzalez", table: 8, displayName: "Paola Gonzalez" },
            { name: "beth klassen", table: 8, displayName: "Beth Klassen" },
            { name: "josh klassen", table: 8, displayName: "Josh Klassen" },
            { name: "alexis cooper", table: 8, displayName: "Alexis Cooper" },
            
            // Table 9
            { name: "pamela collins", table: 9, displayName: "Pamela Collins" },
            { name: "eva collins", table: 9, displayName: "Eva Collins" },
            { name: "rodney collins", table: 9, displayName: "Rodney Collins" },
            { name: "tamara phillips", table: 9, displayName: "Tamara Phillips" },
            { name: "emily collins", table: 9, displayName: "Emily Collins" },
            { name: "corwin collins", table: 9, displayName: "Corwin Collins" },
            { name: "corwins friend", table: 9, displayName: "Corwins Friend" },
            
            // Table 10
            { name: "luke stevenson", table: 10, displayName: "Luke Stevenson" },
            { name: "carolee stevenson", table: 10, displayName: "Carolee Stevenson" },
            { name: "madison stevenson", table: 10, displayName: "Madison Stevenson" },
            { name: "danielle stevenson", table: 10, displayName: "Danielle Stevenson" },
            { name: "shirley young", table: 10, displayName: "Shirley Young" },
            { name: "johanna rudichuk", table: 10, displayName: "Johanna Rudichuk" },
            { name: "ryan rudichuk", table: 10, displayName: "Ryan Rudichuk" },
            { name: "isla rudichuk", table: 10, displayName: "Isla Rudichuk" },
            
            // Table 11
            { name: "randy peterson", table: 11, displayName: "Randy Peterson" },
            { name: "norma peterson", table: 11, displayName: "Norma Peterson" },
            { name: "janet stevenson", table: 11, displayName: "Janet Stevenson" },
            { name: "kenneth stevenson", table: 11, displayName: "Kenneth Stevenson" },
            { name: "benjamin stevenson", table: 11, displayName: "Benjamin Stevenson" },
            { name: "chelsey mckinney", table: 11, displayName: "Chelsey McKinney" },
            { name: "daeon stevenson", table: 11, displayName: "Daeon Stevenson" },
            
            // Table 12
            { name: "jacqueline collins", table: 12, displayName: "Jacqueline Collins" },
            { name: "lynelle klassen", table: 12, displayName: "Lynelle Klassen" },
            { name: "kevin klassen", table: 12, displayName: "Kevin Klassen" },
            { name: "maria gonzalez", table: 12, displayName: "Maria Gonzalez" },
            { name: "adeev koul", table: 12, displayName: "Adeev Koul" },
            { name: "jamie aquin", table: 12, displayName: "Jamie Aquin" },
            { name: "zev rumstein", table: 12, displayName: "Zev Rumstein" },
            { name: "khayla cres", table: 12, displayName: "Khayla Cres" },
            
            // Table 13
            { name: "bride", table: 13, displayName: "Bride" },
            { name: "groom", table: 13, displayName: "Groom" }
        ];

        // Create and position tables
        function createTables() {
            const venueLayout = document.getElementById('venueLayout');
            
            tablePositions.forEach(table => {
                const tableElement = document.createElement('div');
                tableElement.className = table.id === 'head' ? 'head-table' : 'table';
                tableElement.setAttribute('data-table', table.id);
                tableElement.style.left = table.x + '%';
                tableElement.style.top = table.y + '%';
                tableElement.style.transform = 'translate(-50%, -50%)';
                
                if (table.id !== 'head') {
                    tableElement.innerHTML = `
                        <div class="table-number">${table.id}</div>
                    `;
                    
                    // Add click event to show guests (excluding head table)
                    tableElement.addEventListener('click', function() {
                        showGuestList(table.id);
                    });
                }
                
                venueLayout.appendChild(tableElement);
            });
        }

        // Show guest list for a specific table
        function showGuestList(tableNumber) {
            const guestListContainer = document.getElementById('guestListContainer');
            const guestListTitle = document.getElementById('guestListTitle');
            const guestList = document.getElementById('guestList');
            
            // Find guests at this table
            const tableGuests = guests.filter(g => g.table == tableNumber);
            
            if (tableGuests.length > 0) {
                // Update title
                guestListTitle.textContent = `Table ${tableNumber}`;
                
                // Create guest list
                guestList.innerHTML = tableGuests.map(guest => `
                    <div class="guest-list-item">
                        <div class="guest-list-name">${guest.displayName}</div>
                    </div>
                `).join('');
                
                // Show the container
                guestListContainer.style.display = 'block';
            }
        }

        // Clear guest list
        function clearGuestList() {
            const guestListContainer = document.getElementById('guestListContainer');
            guestListContainer.style.display = 'none';
        }

        // Real-time search highlighting
        function searchGuest() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            if (!searchTerm) {
                clearHighlights();
                return;
            }

            // Clear previous highlights
            clearHighlights();

            // Find matching guests
            const matchingGuests = guests.filter(g => 
                g.name.includes(searchTerm) || g.displayName.toLowerCase().includes(searchTerm)
            );

            if (matchingGuests.length > 0) {
                // Highlight matching tables
                matchingGuests.forEach(guest => {
                    const tableElement = document.querySelector(`[data-table="${guest.table}"]`);
                    if (tableElement) {
                        tableElement.classList.add('highlighted');
                    }
                });
            }
        }

        function clearHighlights() {
            const highlightedTables = document.querySelectorAll('.table.highlighted');
            highlightedTables.forEach(table => table.classList.remove('highlighted'));
        }

        // Real-time search as user types
        function handleRealTimeSearch() {
            const searchTerm = this.value.toLowerCase().trim();
            const suggestionsContainer = document.getElementById('searchSuggestions');
            console.log('Real-time search triggered:', searchTerm);
            
            if (searchTerm === '') {
                clearHighlights();
                clearGuestList();
                suggestionsContainer.classList.remove('show');
                return;
            }

            // Clear previous highlights and guest list
            clearHighlights();
            clearGuestList();

            // Find matching guests
            const matchingGuests = guests.filter(g => 
                g.name.includes(searchTerm) || g.displayName.toLowerCase().includes(searchTerm)
            );

            if (matchingGuests.length > 0) {
                // Highlight matching tables
                matchingGuests.forEach(guest => {
                    const tableElement = document.querySelector(`[data-table="${guest.table}"]`);
                    if (tableElement) {
                        tableElement.classList.add('highlighted');
                    }
                });

                // Auto-open guest list if only one table matches
                if (matchingGuests.length === 1) {
                    const uniqueTable = matchingGuests[0].table;
                    showGuestList(uniqueTable);
                }
            }

            // Show search suggestions
            showSearchSuggestions(searchTerm, matchingGuests);
        }

        // Show search suggestions
        function showSearchSuggestions(searchTerm, matchingGuests) {
            const suggestionsContainer = document.getElementById('searchSuggestions');
            console.log('Showing suggestions for:', searchTerm, 'Matching guests:', matchingGuests);
            
            if (matchingGuests.length === 0) {
                suggestionsContainer.classList.remove('show');
                return;
            }

            // Limit suggestions to 8 items
            const limitedGuests = matchingGuests.slice(0, 8);
            
            suggestionsContainer.innerHTML = limitedGuests.map(guest => `
                <div class="suggestion-item" onclick="selectSuggestion('${guest.name}')">
                    <div class="suggestion-name">${guest.displayName}</div>
                    <div class="suggestion-table">Table ${guest.table}</div>
                </div>
            `).join('');
            
            suggestionsContainer.classList.add('show');
            console.log('Suggestions container:', suggestionsContainer);
        }

        // Select a search suggestion
        function selectSuggestion(guestName) {
            document.getElementById('searchInput').value = guestName;
            document.getElementById('searchSuggestions').classList.remove('show');
            
            // Find the guest and highlight their table
            const guest = guests.find(g => g.name === guestName);
            if (guest) {
                clearHighlights();
                clearGuestList();
                const tableElement = document.querySelector(`[data-table="${guest.table}"]`);
                if (tableElement) {
                    tableElement.classList.add('highlighted');
                    // Auto-open guest list for this table
                    showGuestList(guest.table);
                }
            }
        }

        // Initialize tables when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createTables();
        });

        // Allow search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchGuest();
            }
        });

        // Real-time search highlighting
        document.getElementById('searchInput').addEventListener('input', handleRealTimeSearch);

        // Close suggestions when clicking outside
        document.addEventListener('click', function(e) {
            const searchSection = document.querySelector('.search-section');
            const suggestions = document.getElementById('searchSuggestions');
            
            if (!searchSection.contains(e.target)) {
                suggestions.classList.remove('show');
            }
        });

        // Close suggestions when search input loses focus
        document.getElementById('searchInput').addEventListener('blur', function() {
            // Small delay to allow clicking on suggestions
            setTimeout(() => {
                document.getElementById('searchSuggestions').classList.remove('show');
            }, 200);
        });
    </script>
</body>
</html>
